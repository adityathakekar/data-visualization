<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Inflation Heatmap 2000-2025</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">

    <style>
        /* Page Specific Layout overrides */
        body {
            /* Centering handled by flex in style.css, but we need block flow here for the long content */
            display: block; 
            padding: 40px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            /* No background here, clean look */
        }
        
        h1 {
            font-size: 48px;
            font-weight: 900;
            margin-bottom: 10px;
            /* Color inherited from style.css */
        }

        h1 span {
            color: var(--accent-red); /* Using the global red accent */
        }
        
        .subtitle {
            font-size: 18px;
            color: var(--text-muted);
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* --- LEGEND --- */
        .legend {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: var(--card-bg);
            border: 1px solid rgba(255,255,255,0.05);
            border-radius: 8px;
            font-size: 0.9em;
            color: var(--text-muted);
        }
        
        .legend-color {
            width: 30px;
            height: 15px;
            border-radius: 4px;
        }
        
        /* --- HEATMAP GRID --- */
        .heatmap-container {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 30px;
            overflow-x: auto;
            border: 1px solid rgba(255,255,255,0.05);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .heatmap {
            display: grid;
            gap: 2px;
            min-width: 1200px;
        }
        
        /* Grid Columns: Country Name (150px) + 26 Years */
        .heatmap-header, .heatmap-row {
            display: grid;
            grid-template-columns: 150px repeat(26, 1fr);
            gap: 2px;
        }
        
        .heatmap-header { margin-bottom: 5px; }
        
        .cell {
            padding: 10px 2px;
            text-align: center;
            border-radius: 2px;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.2s ease;
            cursor: default;
            position: relative;
            color: #121212; /* Default text dark for contrast on bright cells */
        }

        /* Hover Effect */
        .cell:not(.header-cell):not(.country-cell):hover {
            transform: scale(1.3);
            z-index: 10;
            border: 1px solid #fff;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }
        
        .header-cell {
            background: transparent;
            color: var(--text-muted);
            font-weight: 700;
            font-size: 10px;
        }
        
        .country-cell {
            background: transparent;
            text-align: left;
            padding-left: 10px;
            font-weight: 700;
            color: var(--text-main);
            display: flex;
            align-items: center;
            font-size: 13px;
        }
        
        /* --- TOOLTIP --- */
        .tooltip {
            position: fixed;
            background: rgba(20, 20, 20, 0.98);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 0.9em;
            pointer-events: none;
            z-index: 1000;
            display: none;
            border: 1px solid var(--accent-orange);
            box-shadow: 0 8px 32px rgba(0,0,0,0.8);
            min-width: 150px;
        }
        
        .tooltip strong {
            display: block;
            margin-bottom: 5px;
            font-size: 1.1em;
            color: var(--accent-orange);
        }
        
        /* --- STATS CARDS --- */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .stat-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.05);
        }
        
        .stat-value {
            font-size: 2.5em;
            font-weight: 900;
            margin: 10px 0;
            color: #fff;
        }
        
        .stat-label {
            color: var(--text-muted);
            font-size: 0.8em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* Highlight 2022 Column header */
        .highlight-2022 {
            color: var(--accent-red);
            font-weight: 900;
        }

    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Global Inflation <span>Surge</span></h1>
            <p class="subtitle">CPI Data Visualization (2000-2025)</p>
            
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #2c2c2c;"></div>
                    <span>Low/Deflation</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #fdd835;"></div>
                    <span>Target (2%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #fb8c00;"></div>
                    <span>Moderate (3-5%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #e65100;"></div>
                    <span>High (5-10%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #b71c1c;"></div>
                    <span>Extreme (10%+)</span>
                </div>
            </div>
        </header>
        
        <div class="heatmap-container">
            <div class="heatmap" id="heatmap"></div>
        </div>
        
        <div class="stats">
            <div class="stat-card">
                <div class="stat-label">Global Avg (2025)</div>
                <div class="stat-value" id="avg2025" style="color: var(--accent-green)">-</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Peak Crisis (2022)</div>
                <div class="stat-value" id="peak" style="color: var(--accent-red)">-</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Markets at Target</div>
                <div class="stat-value" id="target" style="color: var(--accent-orange)">-</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Highest Rate (2022)</div>
                <div class="stat-value" id="highest">-</div>
            </div>
        </div>
    </div>
    
    <div class="tooltip" id="tooltip"></div>
    
    <script>
        const data = [
            {"Country":"United States","Year":2000,"Rate":1.87,"Region":"North America"},{"Country":"United States","Year":2001,"Rate":2.45,"Region":"North America"},{"Country":"United States","Year":2002,"Rate":2.23,"Region":"North America"},{"Country":"United States","Year":2003,"Rate":2.1,"Region":"North America"},{"Country":"United States","Year":2004,"Rate":1.66,"Region":"North America"},{"Country":"United States","Year":2005,"Rate":1.66,"Region":"North America"},{"Country":"United States","Year":2006,"Rate":1.56,"Region":"North America"},{"Country":"United States","Year":2007,"Rate":2.37,"Region":"North America"},{"Country":"United States","Year":2008,"Rate":2.1,"Region":"North America"},{"Country":"United States","Year":2009,"Rate":2.21,"Region":"North America"},{"Country":"United States","Year":2010,"Rate":2.18,"Region":"North America"},{"Country":"United States","Year":2011,"Rate":1.53,"Region":"North America"},{"Country":"United States","Year":2012,"Rate":1.89,"Region":"North America"},{"Country":"United States","Year":2013,"Rate":2.05,"Region":"North America"},{"Country":"United States","Year":2014,"Rate":1.72,"Region":"North America"},{"Country":"United States","Year":2015,"Rate":2.11,"Region":"North America"},{"Country":"United States","Year":2016,"Rate":2.23,"Region":"North America"},{"Country":"United States","Year":2017,"Rate":2.41,"Region":"North America"},{"Country":"United States","Year":2018,"Rate":2.06,"Region":"North America"},{"Country":"United States","Year":2019,"Rate":2.59,"Region":"North America"},{"Country":"United States","Year":2020,"Rate":1.2,"Region":"North America"},{"Country":"United States","Year":2021,"Rate":4.7,"Region":"North America"},{"Country":"United States","Year":2022,"Rate":8.0,"Region":"North America"},{"Country":"United States","Year":2023,"Rate":4.1,"Region":"North America"},{"Country":"United States","Year":2024,"Rate":3.4,"Region":"North America"},{"Country":"United States","Year":2025,"Rate":2.9,"Region":"North America"},{"Country":"United Kingdom","Year":2000,"Rate":1.67,"Region":"Europe"},{"Country":"United Kingdom","Year":2001,"Rate":1.42,"Region":"Europe"},{"Country":"United Kingdom","Year":2002,"Rate":1.5,"Region":"Europe"},{"Country":"United Kingdom","Year":2003,"Rate":2.06,"Region":"Europe"},{"Country":"United Kingdom","Year":2004,"Rate":1.88,"Region":"Europe"},{"Country":"United Kingdom","Year":2005,"Rate":1.82,"Region":"Europe"},{"Country":"United Kingdom","Year":2006,"Rate":1.99,"Region":"Europe"},{"Country":"United Kingdom","Year":2007,"Rate":1.25,"Region":"Europe"},{"Country":"United Kingdom","Year":2008,"Rate":1.89,"Region":"Europe"},{"Country":"United Kingdom","Year":2009,"Rate":1.94,"Region":"Europe"},{"Country":"United Kingdom","Year":2010,"Rate":2.06,"Region":"Europe"},{"Country":"United Kingdom","Year":2011,"Rate":1.76,"Region":"Europe"},{"Country":"United Kingdom","Year":2012,"Rate":1.81,"Region":"Europe"},{"Country":"United Kingdom","Year":2013,"Rate":1.61,"Region":"Europe"},{"Country":"United Kingdom","Year":2014,"Rate":1.49,"Region":"Europe"},{"Country":"United Kingdom","Year":2015,"Rate":2.26,"Region":"Europe"},{"Country":"United Kingdom","Year":2016,"Rate":1.91,"Region":"Europe"},{"Country":"United Kingdom","Year":2017,"Rate":2.18,"Region":"Europe"},{"Country":"United Kingdom","Year":2018,"Rate":1.71,"Region":"Europe"},{"Country":"United Kingdom","Year":2019,"Rate":2.03,"Region":"Europe"},{"Country":"United Kingdom","Year":2020,"Rate":0.9,"Region":"Europe"},{"Country":"United Kingdom","Year":2021,"Rate":2.6,"Region":"Europe"},{"Country":"United Kingdom","Year":2022,"Rate":9.1,"Region":"Europe"},{"Country":"United Kingdom","Year":2023,"Rate":7.3,"Region":"Europe"},{"Country":"United Kingdom","Year":2024,"Rate":3.9,"Region":"Europe"},{"Country":"United Kingdom","Year":2025,"Rate":2.2,"Region":"Europe"},{"Country":"Germany","Year":2000,"Rate":1.48,"Region":"Europe"},{"Country":"Germany","Year":2001,"Rate":0.96,"Region":"Europe"},{"Country":"Germany","Year":2002,"Rate":2.01,"Region":"Europe"},{"Country":"Germany","Year":2003,"Rate":1.67,"Region":"Europe"},{"Country":"Germany","Year":2004,"Rate":1.26,"Region":"Europe"},{"Country":"Germany","Year":2005,"Rate":0.89,"Region":"Europe"},{"Country":"Germany","Year":2006,"Rate":1.24,"Region":"Europe"},{"Country":"Germany","Year":2007,"Rate":1.26,"Region":"Europe"},{"Country":"Germany","Year":2008,"Rate":1.82,"Region":"Europe"},{"Country":"Germany","Year":2009,"Rate":2.06,"Region":"Europe"},{"Country":"Germany","Year":2010,"Rate":1.41,"Region":"Europe"},{"Country":"Germany","Year":2011,"Rate":1.74,"Region":"Europe"},{"Country":"Germany","Year":2012,"Rate":1.46,"Region":"Europe"},{"Country":"Germany","Year":2013,"Rate":1.41,"Region":"Europe"},{"Country":"Germany","Year":2014,"Rate":1.31,"Region":"Europe"},{"Country":"Germany","Year":2015,"Rate":1.32,"Region":"Europe"},{"Country":"Germany","Year":2016,"Rate":1.88,"Region":"Europe"},{"Country":"Germany","Year":2017,"Rate":1.49,"Region":"Europe"},{"Country":"Germany","Year":2018,"Rate":1.53,"Region":"Europe"},{"Country":"Germany","Year":2019,"Rate":1.4,"Region":"Europe"},{"Country":"Germany","Year":2020,"Rate":0.5,"Region":"Europe"},{"Country":"Germany","Year":2021,"Rate":3.2,"Region":"Europe"},{"Country":"Germany","Year":2022,"Rate":8.7,"Region":"Europe"},{"Country":"Germany","Year":2023,"Rate":6.1,"Region":"Europe"},{"Country":"Germany","Year":2024,"Rate":2.9,"Region":"Europe"},{"Country":"Germany","Year":2025,"Rate":2.3,"Region":"Europe"},{"Country":"France","Year":2000,"Rate":1.3,"Region":"Europe"},{"Country":"France","Year":2001,"Rate":1.65,"Region":"Europe"},{"Country":"France","Year":2002,"Rate":1.48,"Region":"Europe"},{"Country":"France","Year":2003,"Rate":1.74,"Region":"Europe"},{"Country":"France","Year":2004,"Rate":1.41,"Region":"Europe"},{"Country":"France","Year":2005,"Rate":1.93,"Region":"Europe"},{"Country":"France","Year":2006,"Rate":2.0,"Region":"Europe"},{"Country":"France","Year":2007,"Rate":1.35,"Region":"Europe"},{"Country":"France","Year":2008,"Rate":1.58,"Region":"Europe"},{"Country":"France","Year":2009,"Rate":1.31,"Region":"Europe"},{"Country":"France","Year":2010,"Rate":1.74,"Region":"Europe"},{"Country":"France","Year":2011,"Rate":1.77,"Region":"Europe"},{"Country":"France","Year":2012,"Rate":1.86,"Region":"Europe"},{"Country":"France","Year":2013,"Rate":1.28,"Region":"Europe"},{"Country":"France","Year":2014,"Rate":1.41,"Region":"Europe"},{"Country":"France","Year":2015,"Rate":1.68,"Region":"Europe"},{"Country":"France","Year":2016,"Rate":1.53,"Region":"Europe"},{"Country":"France","Year":2017,"Rate":2.0,"Region":"Europe"},{"Country":"France","Year":2018,"Rate":1.5,"Region":"Europe"},{"Country":"France","Year":2019,"Rate":1.91,"Region":"Europe"},{"Country":"France","Year":2020,"Rate":0.5,"Region":"Europe"},{"Country":"France","Year":2021,"Rate":3.2,"Region":"Europe"},{"Country":"France","Year":2022,"Rate":8.7,"Region":"Europe"},{"Country":"France","Year":2023,"Rate":6.1,"Region":"Europe"},{"Country":"France","Year":2024,"Rate":2.9,"Region":"Europe"},{"Country":"France","Year":2025,"Rate":2.3,"Region":"Europe"},{"Country":"Japan","Year":2000,"Rate":0.59,"Region":"Asia Pacific"},{"Country":"Japan","Year":2001,"Rate":0.67,"Region":"Asia Pacific"},{"Country":"Japan","Year":2002,"Rate":0.43,"Region":"Asia Pacific"},{"Country":"Japan","Year":2003,"Rate":0.23,"Region":"Asia Pacific"},{"Country":"Japan","Year":2004,"Rate":-0.12,"Region":"Asia Pacific"},{"Country":"Japan","Year":2005,"Rate":0.43,"Region":"Asia Pacific"},{"Country":"Japan","Year":2006,"Rate":0.24,"Region":"Asia Pacific"},{"Country":"Japan","Year":2007,"Rate":0.38,"Region":"Asia Pacific"},{"Country":"Japan","Year":2008,"Rate":0.11,"Region":"Asia Pacific"},{"Country":"Japan","Year":2009,"Rate":0.31,"Region":"Asia Pacific"},{"Country":"Japan","Year":2010,"Rate":0.46,"Region":"Asia Pacific"},{"Country":"Japan","Year":2011,"Rate":0.67,"Region":"Asia Pacific"},{"Country":"Japan","Year":2012,"Rate":0.43,"Region":"Asia Pacific"},{"Country":"Japan","Year":2013,"Rate":0.61,"Region":"Asia Pacific"},{"Country":"Japan","Year":2014,"Rate":0.02,"Region":"Asia Pacific"},{"Country":"Japan","Year":2015,"Rate":0.77,"Region":"Asia Pacific"},{"Country":"Japan","Year":2016,"Rate":0.18,"Region":"Asia Pacific"},{"Country":"Japan","Year":2017,"Rate":0.14,"Region":"Asia Pacific"},{"Country":"Japan","Year":2018,"Rate":0.14,"Region":"Asia Pacific"},{"Country":"Japan","Year":2019,"Rate":0.53,"Region":"Asia Pacific"},{"Country":"Japan","Year":2020,"Rate":0.78,"Region":"Asia Pacific"},{"Country":"Japan","Year":2021,"Rate":0.66,"Region":"Asia Pacific"},{"Country":"Japan","Year":2022,"Rate":1.5,"Region":"Asia Pacific"},{"Country":"Japan","Year":2023,"Rate":3.2,"Region":"Asia Pacific"},{"Country":"Japan","Year":2024,"Rate":2.8,"Region":"Asia Pacific"},{"Country":"Japan","Year":2025,"Rate":2.1,"Region":"Asia Pacific"},{"Country":"Canada","Year":2000,"Rate":3.39,"Region":"North America"},{"Country":"Canada","Year":2001,"Rate":2.15,"Region":"North America"},{"Country":"Canada","Year":2002,"Rate":2.54,"Region":"North America"},{"Country":"Canada","Year":2003,"Rate":2.91,"Region":"North America"},{"Country":"Canada","Year":2004,"Rate":2.23,"Region":"North America"},{"Country":"Canada","Year":2005,"Rate":3.44,"Region":"North America"},{"Country":"Canada","Year":2006,"Rate":3.42,"Region":"North America"},{"Country":"Canada","Year":2007,"Rate":2.0,"Region":"North America"},{"Country":"Canada","Year":2008,"Rate":2.49,"Region":"North America"},{"Country":"Canada","Year":2009,"Rate":2.85,"Region":"North America"},{"Country":"Canada","Year":2010,"Rate":2.8,"Region":"North America"},{"Country":"Canada","Year":2011,"Rate":1.83,"Region":"North America"},{"Country":"Canada","Year":2012,"Rate":3.2,"Region":"North America"},{"Country":"Canada","Year":2013,"Rate":3.33,"Region":"North America"},{"Country":"Canada","Year":2014,"Rate":3.23,"Region":"North America"},{"Country":"Canada","Year":2015,"Rate":2.83,"Region":"North America"},{"Country":"Canada","Year":2016,"Rate":3.32,"Region":"North America"},{"Country":"Canada","Year":2017,"Rate":1.98,"Region":"North America"},{"Country":"Canada","Year":2018,"Rate":1.79,"Region":"North America"},{"Country":"Canada","Year":2019,"Rate":2.48,"Region":"North America"},{"Country":"Canada","Year":2020,"Rate":1.8,"Region":"North America"},{"Country":"Canada","Year":2021,"Rate":3.5,"Region":"North America"},{"Country":"Canada","Year":2022,"Rate":6.5,"Region":"North America"},{"Country":"Canada","Year":2023,"Rate":5.2,"Region":"North America"},{"Country":"Canada","Year":2024,"Rate":3.8,"Region":"North America"},{"Country":"Canada","Year":2025,"Rate":2.8,"Region":"North America"},{"Country":"Turkey","Year":2000,"Rate":9.14,"Region":"Europe"},{"Country":"Turkey","Year":2001,"Rate":8.98,"Region":"Europe"},{"Country":"Turkey","Year":2002,"Rate":6.06,"Region":"Europe"},{"Country":"Turkey","Year":2003,"Rate":7.06,"Region":"Europe"},{"Country":"Turkey","Year":2004,"Rate":8.16,"Region":"Europe"},{"Country":"Turkey","Year":2005,"Rate":10.86,"Region":"Europe"},{"Country":"Turkey","Year":2006,"Rate":7.29,"Region":"Europe"},{"Country":"Turkey","Year":2007,"Rate":9.33,"Region":"Europe"},{"Country":"Turkey","Year":2008,"Rate":10.47,"Region":"Europe"},{"Country":"Turkey","Year":2009,"Rate":10.12,"Region":"Europe"},{"Country":"Turkey","Year":2010,"Rate":6.82,"Region":"Europe"},{"Country":"Turkey","Year":2011,"Rate":10.03,"Region":"Europe"},{"Country":"Turkey","Year":2012,"Rate":8.3,"Region":"Europe"},{"Country":"Turkey","Year":2013,"Rate":7.15,"Region":"Europe"},{"Country":"Turkey","Year":2014,"Rate":7.74,"Region":"Europe"},{"Country":"Turkey","Year":2015,"Rate":7.15,"Region":"Europe"},{"Country":"Turkey","Year":2016,"Rate":9.43,"Region":"Europe"},{"Country":"Turkey","Year":2017,"Rate":6.9,"Region":"Europe"},{"Country":"Turkey","Year":2018,"Rate":8.83,"Region":"Europe"},{"Country":"Turkey","Year":2019,"Rate":7.24,"Region":"Europe"},{"Country":"Turkey","Year":2020,"Rate":20.0,"Region":"Europe"},{"Country":"Turkey","Year":2021,"Rate":36.0,"Region":"Europe"},{"Country":"Turkey","Year":2022,"Rate":72.0,"Region":"Europe"},{"Country":"Turkey","Year":2023,"Rate":64.0,"Region":"Europe"},{"Country":"Turkey","Year":2024,"Rate":52.0,"Region":"Europe"},{"Country":"Turkey","Year":2025,"Rate":39.0,"Region":"Europe"},{"Country":"Brazil","Year":2000,"Rate":5.91,"Region":"Latin America"},{"Country":"Brazil","Year":2001,"Rate":4.14,"Region":"Latin America"},{"Country":"Brazil","Year":2002,"Rate":5.12,"Region":"Latin America"},{"Country":"Brazil","Year":2003,"Rate":5.88,"Region":"Latin America"},{"Country":"Brazil","Year":2004,"Rate":5.51,"Region":"Latin America"},{"Country":"Brazil","Year":2005,"Rate":6.57,"Region":"Latin America"},{"Country":"Brazil","Year":2006,"Rate":5.98,"Region":"Latin America"},{"Country":"Brazil","Year":2007,"Rate":4.49,"Region":"Latin America"},{"Country":"Brazil","Year":2008,"Rate":4.21,"Region":"Latin America"},{"Country":"Brazil","Year":2009,"Rate":5.45,"Region":"Latin America"},{"Country":"Brazil","Year":2010,"Rate":6.54,"Region":"Latin America"},{"Country":"Brazil","Year":2011,"Rate":4.69,"Region":"Latin America"},{"Country":"Brazil","Year":2012,"Rate":4.83,"Region":"Latin America"},{"Country":"Brazil","Year":2013,"Rate":4.47,"Region":"Latin America"},{"Country":"Brazil","Year":2014,"Rate":5.68,"Region":"Latin America"},{"Country":"Brazil","Year":2015,"Rate":4.91,"Region":"Latin America"},{"Country":"Brazil","Year":2016,"Rate":5.37,"Region":"Latin America"},{"Country":"Brazil","Year":2017,"Rate":5.64,"Region":"Latin America"},{"Country":"Brazil","Year":2018,"Rate":6.82,"Region":"Latin America"},{"Country":"Brazil","Year":2019,"Rate":5.16,"Region":"Latin America"},{"Country":"Brazil","Year":2020,"Rate":3.2,"Region":"Latin America"},{"Country":"Brazil","Year":2021,"Rate":8.3,"Region":"Latin America"},{"Country":"Brazil","Year":2022,"Rate":11.3,"Region":"Latin America"},{"Country":"Brazil","Year":2023,"Rate":4.6,"Region":"Latin America"},{"Country":"Brazil","Year":2024,"Rate":4.5,"Region":"Latin America"},{"Country":"Brazil","Year":2025,"Rate":4.2,"Region":"Latin America"}
        ];
        
        const countries = [...new Set(data.map(d => d.Country))];
        const years = [...new Set(data.map(d => d.Year))].sort();
        
        // --- NEW COLOR SCALE (Matches the D3 Map) ---
        function getColor(rate) {
            if (rate < 1.5) return '#2c2c2c';  // Dark Gray (Low/Deflation)
            if (rate < 2.5) return '#fdd835';  // Yellow (Target)
            if (rate < 5.0) return '#fb8c00';  // Orange (Moderate)
            if (rate < 10.0) return '#e65100'; // Dark Orange (High)
            return '#b71c1c';                  // Deep Red (Extreme)
        }
        
        function getCategory(rate) {
            if (rate < 0) return 'Deflation';
            if (rate < 1.5) return 'Low';
            if (rate < 2.5) return 'At Target â­';
            if (rate < 5) return 'Moderate';
            if (rate < 10) return 'High';
            return 'Extreme Crisis';
        }
        
        const heatmap = document.getElementById('heatmap');
        
        // Header row
        const header = document.createElement('div');
        header.className = 'heatmap-header';
        header.innerHTML = '<div class="cell header-cell">Country</div>';
        years.forEach(year => {
            const highlight = year === 2022 ? 'highlight-2022' : '';
            header.innerHTML += `<div class="cell header-cell ${highlight}">${year}</div>`;
        });
        heatmap.appendChild(header);
        
        // Data rows
        countries.forEach(country => {
            const row = document.createElement('div');
            row.className = 'heatmap-row';
            row.innerHTML = `<div class="cell country-cell">${country}</div>`;
            
            years.forEach(year => {
                const item = data.find(d => d.Country === country && d.Year === year);
                if (item) {
                    const color = getColor(item.Rate);
                    const highlight = year === 2022 ? 'highlight-2022' : '';
                    const cell = document.createElement('div');
                    cell.className = `cell ${highlight}`;
                    cell.style.background = color;
                    
                    // Text contrast logic for new colors
                    if(item.Rate < 1.5) cell.style.color = '#888'; // Gray on Dark Gray
                    else if (item.Rate < 5) cell.style.color = '#000'; // Black on Yellow/Orange
                    else cell.style.color = '#fff'; // White on Dark Red
                    
                    cell.textContent = item.Rate.toFixed(1);
                    cell.dataset.country = country;
                    cell.dataset.year = year;
                    cell.dataset.rate = item.Rate;
                    cell.dataset.region = item.Region;
                    row.appendChild(cell);
                }
            });
            
            heatmap
